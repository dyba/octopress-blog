
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ruby Monk Problem - Capitalizing an Array of Names - Daniel Dyba</title>
  <meta name="author" content="Daniel Dyba">

  
  <meta name="description" content="The ExerciseIn lesson 5 of RubyMonk.com, there&#8217;s an exercise with the following objective:to capitalize the first character of each part of t...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://danieldyba.com/blog/2011/11/13/ruby-monk-problem-capitalizing-an-array-of-names/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Daniel Dyba" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Daniel Dyba</a></h1>
  
    <h2>Rails Developer, Passionate Independent Learner</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:danieldyba.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about/">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Ruby Monk Problem - Capitalizing an Array of Names</h1>
    
    
      <p class="meta">
        





  



<time datetime="2011-11-13T12:09:00-08:00" pubdate  data-updated="true" >Nov 13<span>th</span>, 2011</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h2>The Exercise</h2>

<p>In lesson 5 of <a href="http://rubymonk.com">RubyMonk.com</a>, there&#8217;s an exercise with the following objective:</p>

<blockquote><p>to capitalize the first character of each part of the name as it combined them.</p></blockquote>


<p>The code they provide is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># bust out a beefy reduce on this bad boy:</span>
</span><span class='line'><span class="o">[</span><span class="s2">&quot;emperor&quot;</span><span class="p">,</span> <span class="s2">&quot;joshua&quot;</span><span class="p">,</span> <span class="s2">&quot;abraham&quot;</span><span class="p">,</span> <span class="s2">&quot;norton&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>First Attempt</h3>

<p>I worked out the code below but then realized it didn&#8217;t solve the problem.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="s2">&quot;emperor&quot;</span><span class="p">,</span> <span class="s2">&quot;joshua&quot;</span><span class="p">,</span> <span class="s2">&quot;abraham&quot;</span><span class="p">,</span> <span class="s2">&quot;norton&quot;</span><span class="o">].</span><span class="n">inject</span> <span class="k">do</span> <span class="o">|</span><span class="n">full_name</span><span class="p">,</span> <span class="nb">name</span><span class="o">|</span>
</span><span class='line'>  <span class="s2">&quot;</span><span class="si">#{</span><span class="n">full_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="nb">name</span><span class="o">.</span><span class="n">capitalize</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This ends up with <code>"emperor Joshua Abraham Norton"</code>. I didn&#8217;t capitalize the first word <code>emperor</code>.</p>

<h3>Second Attempt</h3>

<p>Ok, no problem. I&#8217;ll just capitalize <code>full_name</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="s2">&quot;emperor&quot;</span><span class="p">,</span> <span class="s2">&quot;joshua&quot;</span><span class="p">,</span> <span class="s2">&quot;abraham&quot;</span><span class="p">,</span> <span class="s2">&quot;norton&quot;</span><span class="o">].</span><span class="n">inject</span> <span class="k">do</span> <span class="o">|</span><span class="n">full_name</span><span class="p">,</span> <span class="nb">name</span><span class="o">|</span>
</span><span class='line'>  <span class="s2">&quot;</span><span class="si">#{</span><span class="n">full_name</span><span class="o">.</span><span class="n">capitalize</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="nb">name</span><span class="o">.</span><span class="n">capitalize</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>No. You can&#8217;t do that. That will end up capitalizing just the first word <code>emperor</code>. You will end up with <code>"Emperor joshua abraham Norton"</code>. The reason is the block variable <code>full_name</code> remembers the last value calculated inside the block. Because we did not pass an initial value to the inject method, it uses the first value in your collection by default, in this case <code>"emperor"</code>. Inside the body of the block, we take <code>"emperor"</code> and capitalize it followed by <code>"joshua"</code> and capitalize that. We put the two together to get the complete string <code>"Emperor Joshua"</code>. You can try this out in irb by truncating your array to just two elements, <code>["emperor", "joshua"]</code>.</p>

<p>So far so good. Next, we use this result of the calculation carried out in the body of the block and pass it to the block variable <code>full_name</code>. The block variable <code>name</code> is set to the next item in our collection, which is <code>"abraham"</code>. We run through the body of the block again which leads us to capitalize <code>"Emperor Joshua"</code> and <code>"abraham"</code>. That gives us <code>"Emperor joshua"</code> and <code>"Abraham"</code>. That&#8217;s where things go wrong. When you <code>capitalize</code> a string, you are putting all characters except the first character in their lower case form.</p>

<h3>A Hack</h3>

<p>How then, do you capitalize the first name? By default, <code>inject</code> will use <code>"emperor"</code> as its initial value since I have passed no parameter to the <code>inject</code> method. What if I did try to pass in a parameter? What would that parameter be? What if I passed in an empty string? Ah, in that case, the <code>full_name</code> will be equal to <code>''</code>, the empty string.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="s2">&quot;emperor&quot;</span><span class="p">,</span> <span class="s2">&quot;joshua&quot;</span><span class="p">,</span> <span class="s2">&quot;abraham&quot;</span><span class="p">,</span> <span class="s2">&quot;norton&quot;</span><span class="o">].</span><span class="n">inject</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">full_name</span><span class="p">,</span> <span class="nb">name</span><span class="o">|</span>
</span><span class='line'>  <span class="s2">&quot;</span><span class="si">#{</span><span class="n">full_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="nb">name</span><span class="o">.</span><span class="n">capitalize</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">strip</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>If I only made a call to <code>"#{full_name} #{name.capitalize}"</code>, I would have an extra space in front of the name, <code>" Emperor Joshua Abraham Norton"</code>, by the time block iterated through all the items in the array. To get rid of this, I just <code>strip</code> the whitespace. Do you have another of solving this problem with the constraint of using the <code>inject</code> method? I&#8217;d love to hear your ideas.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Daniel Dyba</span></span>

      





  



<time datetime="2011-11-13T12:09:00-08:00" pubdate  data-updated="true" >Nov 13<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/ruby/'>Ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://danieldyba.com/blog/2011/11/13/ruby-monk-problem-capitalizing-an-array-of-names/" data-via="dyba" data-counturl="http://danieldyba.com/blog/2011/11/13/ruby-monk-problem-capitalizing-an-array-of-names/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/11/25/code-kata-4-a-tdd-attempt-toward-readable-code/">Code Kata 4: A TDD Attempt Toward Readable Code</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/23/string-calculator-kata-without-if/">String Calculator Kata Without If, Else, Switch, or Case</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/15/ruby-monk-problem-capitalizing-an-array-with-names-revisited/">Ruby Monk Problem - Capitalizing an Array With Names (Revisited)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/13/ruby-monk-problem-capitalizing-an-array-of-names/">Ruby Monk Problem - Capitalizing an Array of Names</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/11/karate-chop-code-kata-second-run/">Karate Chop Code Kata - Second Run</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/dyba">@dyba</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'dyba',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("dyba", 5, true);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/dyba" class="twitter-follow-button" data-width="208px" data-show-count="true">Follow @dyba</a>
  
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Daniel Dyba -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
    (function () {
      var disqus_shortname = 'danieldyba';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://danieldyba.com/blog/2011/11/13/ruby-monk-problem-capitalizing-an-array-of-names/';
        var disqus_url = 'http://danieldyba.com/blog/2011/11/13/ruby-monk-problem-capitalizing-an-array-of-names/';
        var disqus_script = 'embed.js'
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
